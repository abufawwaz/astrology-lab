<script language="JavaScript">
//<![CDATA[
function comp_function_show() {
 tree_style = document.getElementById('comp_id_tree_div').style
 if (tree_style.visibility == 'hidden') {
  tree_style.visibility = 'visible'
 } else {
  tree_style.visibility = 'hidden'
 }
}

function comp_function_replace(old_parent, new_element, old_id) {
 if (old_parent.hasChildNodes()) {
  old_element = document.getElementById(old_id)
  if (old_element) {
   old_parent.removeChild(old_element)
  }
 }
 old_parent.appendChild(new_element)
}

function select(selection) {
 document.getElementById('comp_id_tree_selection').value = selection[0]

 // if leaf, hide the selection panel on selection
 if (selection[2]) {
  document.getElementById('comp_id_tree_div').style.visibility = 'hidden'
 }

 var link_choice = document.createElement('div')
 link_choice.appendChild(document.createTextNode(selection[1]))
 link_choice.setAttribute('id', 'comp_id_tree_choice')

 comp_function_replace(document.getElementById('comp_id_tree_text'), link_choice, 'comp_id_tree_choice')
}
//]]>
</script>

<input type='hidden' id='comp_id_tree_selection' name='{4}' value='{1}' />
<a id='comp_id_tree_text' href='#' onclick='comp_function_show(); return false;'><div id='comp_id_tree_choice'>{2}</div></a>

<div id='comp_id_tree_div' style='position:absolute; background-color:#ffffff; visibility:hidden'>
 <iframe src='{3}&amp;_reload=0' width='300px' height='400px'>
 </iframe>
</div>
